<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>xWRL1432 MMWAVE-L-SDK: Aoaproc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="xWRL1432 MMWAVE-L-SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">xWRL1432 MMWAVE-L-SDK
   &#160;<span id="projectnumber">05.05.04.02</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('AOAPROC_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Aoaproc </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md466">Introduction</a></li>
<li class="level1"><a href="#autotoc_md467">Block Diagram</a></li>
<li class="level1"><a href="#autotoc_md468">AoA DPU functioning</a></li>
<li class="level1"><a href="#autotoc_md469">Usage Overview</a><ul><li class="level2"><a href="#autotoc_md470">API</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md471">Example Usage</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_datapath_aoaproc"></a></p>
<p>The AoAproc or Angle of Arrival processing does the 3rd dimension FFT after Doppler FFT in the frame idle time which translates to angle measurements.</p>
<h1><a class="anchor" id="autotoc_md466"></a>
Introduction</h1>
<p>The Angle of Arrival processing DPU does the 3rd dimension FFT after Doppler FFT in the frame idle time. This AoA implementation recalculates the Doppler for the detected points with doppler phase compensation (if 2-Tx is used), arranges the virtual antenna config as required, calculates elevation-azimuth FFT and finally stores the elevation-azimuth indices for further chain processing.</p>
<h1><a class="anchor" id="autotoc_md467"></a>
Block Diagram</h1>
<p>The top-level diagram of the AoA DPU is shown below:</p>
<p> <style>div.image img[src="AOA_DPU.png"]{width:80%}</style> </p><div class="image">
<img src="AOA_DPU.png" alt=""/>
<div class="caption">
AoA processing DPU top-level diagram</div></div>
<h1><a class="anchor" id="autotoc_md468"></a>
AoA DPU functioning</h1>
<p>The Figure below elaborates on the Doppler processing part of AOA DPU. Based on which all of the range gates have n-points as calculated from detection matrix, we apply Doppler processing and Doppler compensation (if num of Tx used is &gt; 1). Then move to the Doppler index in the range gate and arrange the antenna as per antenna geometry of the device before applying angle FFT. This step of arranging data prior to angle-FFT is done for all detected points in the corresponding range gate. Note that to go to the next range gate, we will need to correspondingly set the source address of EDMA to pick up the next range gate of interest. Also, note that only one range gate is brought in per EDMA transfer in ping/pong path; unlike Doppler DPU where two range gates are taken in ping/pong path. The 3-paramsets used in the ping/pong path does the following operation:</p><ul>
<li>Doppler FFT for range gate.</li>
<li>Doppler compensation for Tx1 (taken in as such as phase compensation need not be applied here)</li>
<li>Doppler compensation for Tx2 (use vector multiplication feature of HWA) to achieve this <br  />
</li>
</ul>
<p> <style>div.image img[src="AOA_DPU_Full.jpg"]{width:80%}</style> </p><div class="image">
<img src="AOA_DPU_Full.jpg" alt=""/>
<div class="caption">
AoA processing (Doppler Calculation) DPU detailed diagram</div></div>
<p>Figure below illustrates the angle estimation portion of the DPU. For each of the n detected points, the azimuth elevation FFT is computed, followed by the index of the bin with the maximum magnitude in the azimuth-elevation heatmap (Max-Abs operation). This will be used for estimating elevation-azimuth indices to be subsequently used in feature extraction. As shown in the diagram, each ping/pong path processes one of the detected points. The EDMA output is the index corresponding to the max-value of azimuth-elevation heatmap. The 3-paramsets used in the ping/pong path perform the following operations:</p><ol type="1">
<li>Azimuth FFT</li>
<li>Elevation FFT</li>
<li>Max of absolute value from azimuth-elevation heatmap</li>
</ol>
<p> <style>div.image img[src="AOA_DPU_Full2.jpg"]{width:80%}</style> </p><div class="image">
<img src="AOA_DPU_Full2.jpg" alt=""/>
<div class="caption">
AoA processing (Angle Calculation) DPU detailed diagram</div></div>
<h1><a class="anchor" id="autotoc_md469"></a>
Usage Overview</h1>
<h2><a class="anchor" id="autotoc_md470"></a>
API</h2>
<p>To exercise the DPU functionalities, the application shall call the following APIs in sequence</p>
<ul>
<li><a class="el" href="aoaprochwa_8h.html#a45d466491a18d3dc771cd915324ca5af">DPU_AoAProcHWA_init()</a>: Initializes the DPU and allocated the required resources</li>
<li><a class="el" href="aoaprochwa_8h.html#a27c70379dc60f887e1758715ab6318c4">DPU_AoAProcHWA_config()</a>: Configures the DPU, based on the supported user configurations</li>
<li><a class="el" href="aoaprochwa_8h.html#a0019dbf84b7406ed587e5b9f73ecada0">DPU_AoAProcHWA_Dopplerprocess()</a>: Enables the supported run-time config and triggers the Doppler processing for the DPU</li>
<li><a class="el" href="aoaprochwa_8h.html#a45eb4cc3fbc8b8b84c7cae91be5c6018">DPU_AoAProcHWA_AoAprocess()</a>: Enables the supported run-time config and triggers the AoA processing for the DPU <br  />
</li>
<li><a class="el" href="dopplerprochwa_8h.html#aa24796cd741437d023aaacae4fc0f60d">DPU_DopplerProcHWA_deinit()</a>: De-initializes and frees up the allocated DPU resources</li>
</ul>
<h1><a class="anchor" id="autotoc_md471"></a>
Example Usage</h1>
<p>Include the below file to access the APIs </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="aoaprochwa_8h.html">datapath/dpu/aoaproc/v0/aoaprochwa.h</a>&gt;</span></div>
</div><!-- fragment --><p> DPU Initialization Example </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> aoaProcDpuTest_dpuInit()</div>
<div class="line">{</div>
<div class="line">    int32_t  errorCode = 0;</div>
<div class="line">    <a class="code" href="structDPU__AoAProcHWA__InitParams.html">DPU_AoAProcHWA_InitParams</a> initParams;</div>
<div class="line">    initParams.<a class="code" href="structDPU__AoAProcHWA__InitParams.html#a59198648134bd90f7ceaee39615a7d0d">hwaHandle</a> =  gHwaHandle;</div>
<div class="line">    <span class="comment">/* generate the dpu handler*/</span></div>
<div class="line">    aoaProcDpuHandle =  <a class="code" href="aoaprochwa_8h.html#a45d466491a18d3dc771cd915324ca5af">DPU_AoAProcHWA_init</a> (&amp;initParams, &amp;errorCode);</div>
<div class="line">    <span class="keywordflow">if</span> (aoaProcDpuHandle == NULL)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a> (<span class="stringliteral">&quot;Debug: AoA Proc DPU initialization returned error %d\n&quot;</span>, errorCode);</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a> (0);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p> DPU Configuration Parsing Example </p><div class="fragment"><div class="line">    <span class="comment">/* overwrite the DPIF_commonParams with the test configuration*/</span></div>
<div class="line">    params-&gt;numTxAntennas = testConfig-&gt;numTxAntennas;</div>
<div class="line">    params-&gt;numRxAntennas = testConfig-&gt;numRxAntennas;</div>
<div class="line">    params-&gt;numVirtualAntennas = testConfig-&gt;numTxAntennas * testConfig-&gt;numRxAntennas;</div>
<div class="line">    params-&gt;numRangeBins = testConfig-&gt;numRangeBins;</div>
<div class="line">    params-&gt;numDopplerChirps = testConfig-&gt;numDopplerChirps;</div>
<div class="line">    params-&gt;log2NumDopplerBins = HWAFFT_log2Approx(params-&gt;numDopplerChirps);</div>
<div class="line">    params-&gt;numDopplerBins = pow(2,params-&gt;log2NumDopplerBins);</div>
<div class="line">    params-&gt;doppFFT_is16b = 0; <span class="comment">//Takes into account of 16-bit complex Doppler FFT</span></div>
<div class="line">    params-&gt;elevationFFTSize = 32; <span class="comment">//Via CLI</span></div>
<div class="line">    params-&gt;azimuthFFTSize = 32; <span class="comment">//Via CLI</span></div>
<div class="line">    params-&gt;log2NumElevationBins = HWAFFT_log2Approx(params-&gt;elevationFFTSize);</div>
<div class="line">    params-&gt;log2NumAzimuthBins = HWAFFT_log2Approx(params-&gt;azimuthFFTSize);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* windowing */</span></div>
<div class="line">    pHwConfig-&gt;hwaCfg.windowSize = <span class="keyword">sizeof</span>(uint32_t) * ((params-&gt;numDopplerBins + 1) / 2); <span class="comment">//symmetric window, for real samples</span></div>
<div class="line">    pHwConfig-&gt;hwaCfg.vectorRamSize = <span class="keyword">sizeof</span>(cmplx32ImRe_t)*params-&gt;numDopplerBins;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">/* radar cube after 1D-FFT */</span></div>
<div class="line">    pHwConfig-&gt;radar_1D_FFT_Cube.dataSize = testConfig-&gt;numRangeBins * testConfig-&gt;numTxAntennas * testConfig-&gt;numRxAntennas * <span class="keyword">sizeof</span>(cmplx16ReIm_t) * params-&gt;numDopplerChirps;</div>
<div class="line">    pHwConfig-&gt;radar_1D_FFT_Cube.datafmt = <a class="code" href="group__DPIF__RADARCUBE__FORMAT.html#ga9041ada23f66f34b3a60936d9786e010">DPIF_RADARCUBE_FORMAT_6</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Antenna Array elements and max num of points for the test case*/</span></div>
<div class="line">    detMatrix_res-&gt;antenna_array_elements = NUM_AZIMUTH_ELEMENTS*NUM_ELEVATION_ELEMENTS;</div>
<div class="line">    detMatrix_res-&gt;max_num_points = MAX_NUM_POINTS; <span class="comment">//Via CLI</span></div>
<div class="line"> </div>
<div class="line">    params-&gt;numCols_Antenna = NUM_AZIMUTH_ELEMENTS;</div>
<div class="line">    params-&gt;numRows_Antenna = NUM_ELEVATION_ELEMENTS;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Data Input EDMA Doppler*/</span></div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_rangeFFT.ping.channel        = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_CH_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_rangeFFT.pong.channel        = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_CH_PONG;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_rangeFFT.ping.channelShadow  = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_SHADOW_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_rangeFFT.pong.channelShadow  = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_SHADOW_PONG;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_rangeFFT.ping.eventQueue     = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_EVENT_QUE_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_rangeFFT.pong.eventQueue     = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_EVENT_QUE_PONG;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Hot signature EDMA Doppler*/</span></div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigDoppler.ping.channel    = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_SIG_CH_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigDoppler.pong.channel    = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_SIG_CH_PONG;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigDoppler.ping.channelShadow  = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_SIG_SHADOW_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigDoppler.pong.channelShadow  = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_SIG_SHADOW_PONG;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigDoppler.ping.eventQueue     = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_SIG_EVENT_QUE_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigDoppler.pong.eventQueue     = DPC_OBJDET_DPU_AOAPROC_EDMAIN_DOPPLER_SIG_EVENT_QUE_PING;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Data Input EDMA AoA*/</span></div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_dopplerFFT.ping.channel        = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_CH_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_dopplerFFT.pong.channel        = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_CH_PONG;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_dopplerFFT.ping.channelShadow  = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_SHADOW_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_dopplerFFT.pong.channelShadow  = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_SHADOW_PONG;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_dopplerFFT.ping.eventQueue     = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_EVENT_QUE_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaIn_dopplerFFT.pong.eventQueue     = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_EVENT_QUE_PONG;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Hot signature EDMA AoA*/</span></div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigAoA.ping.channel    = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_SIG_CH_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigAoA.pong.channel    = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_SIG_CH_PONG;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigAoA.ping.channelShadow  = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_SIG_SHADOW_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigAoA.pong.channelShadow  = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_SIG_SHADOW_PONG;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigAoA.ping.eventQueue     = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_SIG_EVENT_QUE_PING;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHotSigAoA.pong.eventQueue     = DPC_OBJDET_DPU_AOAPROC_EDMAIN_AOA_SIG_EVENT_QUE_PING;</div>
<div class="line">    pHwConfig-&gt;intrObj = &amp;intrObj;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Data Output EDMA */</span></div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaOut_maxAoA.ping.channel = DPC_OBJDET_DPU_AOAPROC_EDMAOUT_MAXAOA_PING_CH;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaOut_maxAoA.pong.channel = DPC_OBJDET_DPU_AOAPROC_EDMAOUT_MAXAOA_PONG_CH;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaOut_maxAoA.ping.channelShadow = DPC_OBJDET_DPU_AOAPROC_EDMAOUT_MAXAOA_PING_SHADOW;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaOut_maxAoA.pong.channelShadow = DPC_OBJDET_DPU_AOAPROC_EDMAOUT_MAXAOA_PONG_SHADOW;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaOut_maxAoA.ping.eventQueue = DPC_OBJDET_DPU_AOAPROC_EDMAOUT_MAXAOA_PING_EVENT_QUE;</div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaOut_maxAoA.pong.eventQueue = DPC_OBJDET_DPU_AOAPROC_EDMAOUT_MAXAOA_PONG_EVENT_QUE;</div>
</div><!-- fragment --><div class="fragment"><div class="line">    <span class="comment">/* HWA configurations, not related to per test, common to all test */</span></div>
<div class="line">    pHwConfig-&gt;hwaCfg.paramSetStartIdx = 0;</div>
<div class="line">    pHwConfig-&gt;hwaCfg.winRamOffset  = DPC_OBJDET_HWA_WINDOW_RAM_OFFSET; </div>
<div class="line">    pHwConfig-&gt;hwaCfg.winSym = 1;</div>
<div class="line">    pHwConfig-&gt;hwaCfg.vecRamOffset = DPC_OBJDET_HWA_WINDOW_RAM_OFFSET;</div>
<div class="line">    pHwConfig-&gt;hwaCfg.hwaDmaTriggerDoppPing = 0;</div>
<div class="line">    pHwConfig-&gt;hwaCfg.hwaDmaTriggerDoppPong = 1;</div>
<div class="line">    pHwConfig-&gt;hwaCfg.hwaDmaTriggerAoAPing = 2;</div>
<div class="line">    pHwConfig-&gt;hwaCfg.hwaDmaTriggerAoAPong = 3;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* edma configuration */</span></div>
<div class="line">    pHwConfig-&gt;edmaCfg.edmaHandle  = gEdmaHandle[0];   </div>
<div class="line">    </div>
<div class="line">    <span class="comment">/* windowing buffer is fixed, size will change */</span></div>
<div class="line">    aoaProcDpuCfg.hwRes.hwaCfg.window =  (int32_t *)&amp;window2DCoef[0];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Vector RAM buffer is fixed, size will change */</span></div>
<div class="line">    aoaProcDpuCfg.hwRes.hwaCfg.vectorRam = (cmplx32ImRe_t *)&amp;vectMult[0];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* radar 1D-FFT cube */</span></div>
<div class="line">    aoaProcDpuCfg.hwRes.radar_1D_FFT_Cube.data = (<span class="keywordtype">void</span> *)rangeFFT;    </div>
<div class="line">    </div>
<div class="line">    <span class="comment">/* radar angle Matrix after 2D-FFT */</span></div>
<div class="line">    aoaProcDpuCfg.hwRes.angleMat.data  = (<span class="keywordtype">void</span> *)angleMatrix;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* max of angle Matrix */</span></div>
<div class="line">    aoaProcDpuCfg.hwRes.maxVal_elev_azim = (uint32_t *)&amp;maxaoa_index[0];</div>
<div class="line"> </div>
<div class="line">    aoaProcDpuCfg.maxDetmatrix_res.rangeGatesCount = (uint16_t *)&amp;rangeGatesCount[0];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* range index array */</span></div>
<div class="line">    aoaProcDpuCfg.maxDetmatrix_res.range_idx_arr = (uint16_t *)&amp;rangeIndexArray[0];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Angle index Doppler Count array */</span></div>
<div class="line">    aoaProcDpuCfg.maxDetmatrix_res.angle_idx_doppler_count_arr = (uint16_t *)&amp;angleIndexDopplerCnt[0];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Angle where Doppler index coresponding to max of range gate (where FFT is taken) is stored */</span></div>
<div class="line">    aoaProcDpuCfg.maxDetmatrix_res.doppler_idx_arr = (int16_t *)&amp;dopplerIndexArray[0];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*Array to store the antenna array elements before azimuth-elevation FFT */</span></div>
<div class="line">    aoaProcDpuCfg.maxDetmatrix_res.antenna_array = (cmplx32ImRe_t *)&amp;antenna_array[0];</div>
</div><!-- fragment --><p> DPU Configuration Example </p><div class="fragment"><div class="line">        retVal = <a class="code" href="aoaprochwa_8h.html#a27c70379dc60f887e1758715ab6318c4">DPU_AoAProcHWA_config</a>(aoaProcDpuHandle, &amp;aoaProcDpuCfg);</div>
<div class="line">        <span class="keywordflow">if</span>(retVal &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;DEBUG: DOPPLER DPU config return error:%d \n&quot;</span>, retVal);</div>
<div class="line">            <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(0);</div>
<div class="line">        }</div>
</div><!-- fragment --><p> DPU Doppler Process Trigger Example </p><div class="fragment"><div class="line">        retVal = <a class="code" href="aoaprochwa_8h.html#a0019dbf84b7406ed587e5b9f73ecada0">DPU_AoAProcHWA_Dopplerprocess</a>(aoaProcDpuHandle, &amp;outParms);</div>
<div class="line">        <span class="keywordflow">if</span>(retVal &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;DEBUG: DOPPLER DPU process return error:%d \n&quot;</span>, retVal);</div>
<div class="line">            <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(0);</div>
<div class="line">        }</div>
</div><!-- fragment --><p> DPU AoA Process Trigger Example </p><div class="fragment"><div class="line">        retVal = <a class="code" href="aoaprochwa_8h.html#a45eb4cc3fbc8b8b84c7cae91be5c6018">DPU_AoAProcHWA_AoAprocess</a>(aoaProcDpuHandle, &amp;outParms);</div>
<div class="line">        <span class="keywordflow">if</span>(retVal &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;DEBUG: AoA DPU process return error:%d \n&quot;</span>, retVal);</div>
<div class="line">            <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(0);</div>
<div class="line">        }</div>
</div><!-- fragment --><p> DPU Close Example </p><div class="fragment"><div class="line">    retVal = <a class="code" href="aoaprochwa_8h.html#a63587d7b684e34c4b67c03677d3eedaf">DPU_AoAProcHWA_deinit</a>(aoaProcDpuHandle);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(retVal &lt; 0)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;DEBUG: AoA DPU deinit return error:%d \n&quot;</span>, retVal);</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(0);</div>
<div class="line">    }</div>
</div><!-- fragment --><p> Refer to the document - <b>Gesture_Recognition_Demo_documentation.pdf</b>, in the SDK docs folder, for more details. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="aaoaprochwa_8h_html_a45eb4cc3fbc8b8b84c7cae91be5c6018"><div class="ttname"><a href="aoaprochwa_8h.html#a45eb4cc3fbc8b8b84c7cae91be5c6018">DPU_AoAProcHWA_AoAprocess</a></div><div class="ttdeci">int32_t DPU_AoAProcHWA_AoAprocess(DPU_AoAProcHWA_Handle handle, DPU_AoAProcHWA_OutParams *outParams)</div></div>
<div class="ttc" id="aaoaprochwa_8h_html_a0019dbf84b7406ed587e5b9f73ecada0"><div class="ttname"><a href="aoaprochwa_8h.html#a0019dbf84b7406ed587e5b9f73ecada0">DPU_AoAProcHWA_Dopplerprocess</a></div><div class="ttdeci">int32_t DPU_AoAProcHWA_Dopplerprocess(DPU_AoAProcHWA_Handle handle, DPU_AoAProcHWA_OutParams *outParams)</div></div>
<div class="ttc" id="aaoaprochwa_8h_html_a45d466491a18d3dc771cd915324ca5af"><div class="ttname"><a href="aoaprochwa_8h.html#a45d466491a18d3dc771cd915324ca5af">DPU_AoAProcHWA_init</a></div><div class="ttdeci">DPU_AoAProcHWA_Handle DPU_AoAProcHWA_init(DPU_AoAProcHWA_InitParams *initCfg, int32_t *errCode)</div></div>
<div class="ttc" id="agroup__DPIF__RADARCUBE__FORMAT_html_ga9041ada23f66f34b3a60936d9786e010"><div class="ttname"><a href="group__DPIF__RADARCUBE__FORMAT.html#ga9041ada23f66f34b3a60936d9786e010">DPIF_RADARCUBE_FORMAT_6</a></div><div class="ttdeci">#define DPIF_RADARCUBE_FORMAT_6</div><div class="ttdef"><b>Definition:</b> dpif_radarcube.h:90</div></div>
<div class="ttc" id="aaoaprochwa_8h_html"><div class="ttname"><a href="aoaprochwa_8h.html">aoaprochwa.h</a></div><div class="ttdoc">Implements Datapath Angle of Arrival processing functionality using the HWA. Based on the RF paramete...</div></div>
<div class="ttc" id="astructDPU__AoAProcHWA__InitParams_html_a59198648134bd90f7ceaee39615a7d0d"><div class="ttname"><a href="structDPU__AoAProcHWA__InitParams.html#a59198648134bd90f7ceaee39615a7d0d">DPU_AoAProcHWA_InitParams::hwaHandle</a></div><div class="ttdeci">HWA_Handle hwaHandle</div><div class="ttdoc">HWA Handle.</div><div class="ttdef"><b>Definition:</b> aoaprochwa.h:196</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_gafe348ab5badd2c15118f95e21bb192c6"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a></div><div class="ttdeci">#define DebugP_log(format,...)</div><div class="ttdoc">Function to log a string to the enabled console.</div><div class="ttdef"><b>Definition:</b> DebugP.h:213</div></div>
<div class="ttc" id="aaoaprochwa_8h_html_a63587d7b684e34c4b67c03677d3eedaf"><div class="ttname"><a href="aoaprochwa_8h.html#a63587d7b684e34c4b67c03677d3eedaf">DPU_AoAProcHWA_deinit</a></div><div class="ttdeci">int32_t DPU_AoAProcHWA_deinit(DPU_AoAProcHWA_Handle handle)</div></div>
<div class="ttc" id="astructDPU__AoAProcHWA__InitParams_html"><div class="ttname"><a href="structDPU__AoAProcHWA__InitParams.html">DPU_AoAProcHWA_InitParams</a></div><div class="ttdoc">AoAProc DPU initial configuration parameters.</div><div class="ttdef"><b>Definition:</b> aoaprochwa.h:194</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_ga552e9055ca7eab5fe6c224c6cd5a9d4c"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a></div><div class="ttdeci">#define DebugP_assert(expression)</div><div class="ttdoc">Function to call for assert check.</div><div class="ttdef"><b>Definition:</b> DebugP.h:159</div></div>
<div class="ttc" id="aaoaprochwa_8h_html_a27c70379dc60f887e1758715ab6318c4"><div class="ttname"><a href="aoaprochwa_8h.html#a27c70379dc60f887e1758715ab6318c4">DPU_AoAProcHWA_config</a></div><div class="ttdeci">int32_t DPU_AoAProcHWA_config(DPU_AoAProcHWA_Handle handle, DPU_AoAProcHWA_Config *cfg)</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
