<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>xWRL6432 MMWAVE-L-SDK: MCAN LLD</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="xWRL6432 MMWAVE-L-SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">xWRL6432 MMWAVE-L-SDK
   &#160;<span id="projectnumber">05.05.04.02</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('DRIVERS_MCAN_LLD_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">MCAN LLD </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md398">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md399">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md400">Features NOT Supported</a></li>
<li class="level1"><a href="#autotoc_md401">Usage</a><ul><li class="level2"><a href="#autotoc_md402">Message Ram Initialization</a></li>
<li class="level2"><a href="#autotoc_md403">Acceptance filtering</a></li>
<li class="level2"><a href="#autotoc_md404">Filter Types</a><ul><li class="level3"><a href="#autotoc_md405">Range Filter</a></li>
<li class="level3"><a href="#autotoc_md406">Filter for specific IDs</a></li>
<li class="level3"><a href="#autotoc_md407">Classic Bit Mask Filter</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md408">Filter Element Configuration</a></li>
<li class="level2"><a href="#autotoc_md409">Tx Buffer/FIFO Configuration</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md410">Important Usage Guidelines</a><ul><li class="level2"><a href="#autotoc_md411">Bit Rate Calculation</a></li>
<li class="level2"><a href="#autotoc_md412">CAN bus termination</a></li>
<li class="level2"><a href="#autotoc_md413">Transceiver Delay Compensation Value(TDCV)</a></li>
<li class="level2"><a href="#autotoc_md414">Things to consider/check before sending a message over CAN bus</a></li>
<li class="level2"><a href="#autotoc_md415">Debug CAN communication failure</a></li>
<li class="level2"><a href="#autotoc_md416">BusOff Recovery Sequence</a></li>
</ul>
</li>
<li class="level1"><a href="#MCAN_LLD_EXAMPLE_USAGE">Example Usage</a></li>
<li class="level1"><a href="#autotoc_md417">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_drivers_mcan_lld"></a></p>
<p>The Controller Area Network (CAN) is a serial communication protocol which efficiently supports distributed real-time control. The MCAN module supports both classic CAN and CAN FD (CAN with Flexible Data-Rate) specifications. CAN FD feature allows high throughput and increased payload per data frame. The driver provides API's to configure the MCAN module. Below are the high level features supported by the MCAN driver.</p>
<h1><a class="anchor" id="autotoc_md398"></a>
Features Supported</h1>
<ul>
<li>MCAN module conforms with CAN Protocol 2.0 A, B and ISO 11898-1:2015</li>
<li>Configure CAN FD mode to support Full CAN FD (up to 64 data bytes)</li>
<li>Transmit and Receive classic CAN and and CAN FD message formats</li>
<li>Configure Up to 32 dedicated Transmit Buffers</li>
<li>Configure Transmit FIFO, up to 32 elements(Buffer + FIFO combined up to 32)</li>
<li>Configure Transmit Event FIFO, up to 32 elements</li>
<li>Configure Up to 64 dedicated Receive Buffers</li>
<li>Configure Two configurable Receive FIFOs, up to 64 elements each</li>
<li>Configure Up to 128 Standard Id filter elements</li>
<li>Configure Up to 64 Extended Id filter elements</li>
<li>Configure Bit timing parameters</li>
<li>Configure Global filter to receive non-matching messages</li>
<li>Configure Maskable interrupts and two interrupt lines</li>
<li>Api's to read protocol status register(useful in case of communication failures)</li>
</ul>
<h1><a class="anchor" id="autotoc_md399"></a>
SysConfig Features</h1>
<dl class="section note"><dt>Note</dt><dd>It is strongly recommend to use SysConfig where it is available instead of using direct SW API calls. This will help simplify the SW application and also catch common mistakes early in the development cycle.</dd></dl>
<p>SysConfig can be used to configure below parameters apart from common configuration like Clock, MPU, RAT and others.</p><ul>
<li>MCAN instances and pin configurations.</li>
<li>Defualt values for bit time parameter initialization set by MCAN_initSetBitTimeParams</li>
</ul>
<h1><a class="anchor" id="autotoc_md400"></a>
Features NOT Supported</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md401"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md402"></a>
Message Ram Initialization</h2>
<p>The MCAN module has implemented Message RAM. The main purpose of the Message RAM is to store:</p>
<ul>
<li>Receive Messages</li>
<li>Transmit Messages</li>
<li>Tx Event Elements</li>
<li>Message ID Filter Elements</li>
</ul>
<p>User just needs to configure the number of elements required based on their usecase.</p>
<h2><a class="anchor" id="autotoc_md403"></a>
Acceptance filtering</h2>
<p>The MCAN module is capable to configure two sets of acceptance filters - one set for standard and one set for extended identifiers. These filters can be assigned to an Rx Buffer or to one of the two Rx FIFOs. The main features of the filter elements are:</p>
<ul>
<li>Each filter element can be configured as:<ul>
<li>Range Filter (from - to)</li>
<li>Filter for specific IDs (for one or two dedicated IDs)</li>
<li>Classic Bit Mask Filter</li>
</ul>
</li>
<li>Each filter element can be enabled/disabled individually</li>
<li>Each filter element can be configured for acceptance or rejection filtering</li>
<li>Filters are checked sequentially and execution (acceptance filtering procedure) stops at the first matching filter element or when the end of the filter list is reached</li>
</ul>
<p>Depending on the configuration of the filter element if filter matches, one of the following actions is performed:</p><ul>
<li>Received frame is stored in FIFO 0 or FIFO 1</li>
<li>Received frame is stored in Rx Buffer</li>
</ul>
<p>To receive all the messages without acceptance filtering, you need to configure <b>anfe</b> and <b>anfs</b> fields of Global filter register. Please refer section "Acceptance Filtering" in technical reference manual for more details.</p>
<h2><a class="anchor" id="autotoc_md404"></a>
Filter Types</h2>
<p>Basically there are 3 types of filter which MCAN module supports.</p>
<h3><a class="anchor" id="autotoc_md405"></a>
Range Filter</h3>
<p>Each filter element can be configured to operate as Range Filter (Standard Filter Type SFT = 00/Extended Filter Type EFT = 00). The filter matches for all received message frames with IDs in the range from SFID1 to SFID2 (SFID2 &gt;= SFID1) and respectively in the range from EFID1 to EFID2 (EFID2 &gt;= EFID1).</p>
<p>There are two options for range filtering of extended frames:</p><ul>
<li>Extended Filter Type EFT = 00: The Extended ID AND Mask is used for Range Filtering. The Message ID of received frames is ANDed with the Extended ID AND Mask before the range filter is applied.</li>
<li>Extended Filter Type EFT = 11: The Extended ID AND Mask (MCAN_XIDAM) is not used for Range Filtering.</li>
</ul>
<h3><a class="anchor" id="autotoc_md406"></a>
Filter for specific IDs</h3>
<p>Each filter element can be configured to filter one or two dedicated Message IDs (Standard Filter Type SFT =01/ Extended Filter Type EFT =01). To filter only one specific Message ID, the filter element has to be configured with SFID1 = SFID2 respectively EFID1 = EFID2.</p>
<h3><a class="anchor" id="autotoc_md407"></a>
Classic Bit Mask Filter</h3>
<p>Classic bit mask filtering can filter groups of Message IDs (Standard Filter Type SFT =10/Extended Filter Type EFT =10). This is done by masking single bits of a received Message ID. In this case SFID1/EFID1 element is used as Message ID filter, while SFID2/EFID2 element is used as filter mask. A 0 bit at the filter mask (SFID2/EFID2) will mask out the corresponding bit position of the configured Message ID filter (SFID1/EFID1) and the value of the received Message ID at that bit position is not relevant for acceptance filtering. Only those bits of the received Message ID where the corresponding mask bits are 1 are relevant for acceptance filtering. There are two interesting cases:</p>
<ul>
<li>All mask bits are 1: a match occurs only when the received Message ID and the configured Message ID filter are identical.</li>
<li>All mask bits are 0: all Message IDs match.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>For example: if sfid1(message id) is 0xC0 and sfid2(mask) is 0xF then all the messages ranged from 0xC0 to 0xCF will be received. In case you want to receive all messages, sfid2(mask) need to be set to 0x0.</dd></dl>
<h2><a class="anchor" id="autotoc_md408"></a>
Filter Element Configuration</h2>
<p>Up to 128 filter elements can be configured for 11-bit standard IDs and 64 filter elements can be configured for 29-bit extended IDs. Each filter element have 4 following parameters to be configured.</p>
<ul>
<li>sfid1/efid1 : Defines the ID of the message to be stored</li>
<li>sfid2/efid2 : Defines the second ID.This field has a different meaning depending on sfec/efec. In case buffer is configured then sfid2/efid2 filters to Rx buffer number[0-63]</li>
<li>sfec/efec : Place to store message(Buffer/FIFO0/FIFO1)</li>
<li>sft/eft : Filter Types</li>
</ul>
<h2><a class="anchor" id="autotoc_md409"></a>
Tx Buffer/FIFO Configuration</h2>
<p>The MCAN module supports up to 32 Tx Buffers. These Tx Buffers can be configured as dedicated Tx Buffers, Tx FIFO and as combination of dedicated Tx Buffers/Tx FIFO. In the message RAM, FIFO is allocated only after the number of buffers allocated. i.e.</p>
<div class="fragment"><div class="line">txFifoStartAddr = txBufStartAddr + txBufCnt;</div>
</div><!-- fragment --><p>Dedicated Tx Buffers are intended for message transmission under complete control of the Host CPU. There are two options:</p><ul>
<li>Each dedicated Tx Buffer is configured with a specific Message ID.</li>
<li>Two or more dedicated Tx Buffers are configured with the same Message ID. In this case the Tx Buffer with the lowest buffer number is transmitted first.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Please refer <a class="el" href="group__DRV__MCAN__MODULE.html">APIs for MCAN</a> for more details and <a class="el" href="DRIVERS_MCAN_LLD_PAGE.html#MCAN_LLD_EXAMPLE_USAGE">Example Usage</a> for code snippets.</dd></dl>
<h1><a class="anchor" id="autotoc_md410"></a>
Important Usage Guidelines</h1>
<h2><a class="anchor" id="autotoc_md411"></a>
Bit Rate Calculation</h2>
<p> <style>div.image img[src="drivers/mcan_bit_timing.png"]{width:50%}</style> </p><div class="image">
<img src="mcan_bit_timing.png" alt=""/>
<div class="caption">
MCAN Bit Timing</div></div>
<p>Formula for bit-rate is:</p>
<div class="fragment"><div class="line">bit rate(bits per second) = (CAN clock in Hz) / BRP / (1 + TSEG1 + TSEG2)</div>
<div class="line">Sampling Point(%) = (1 + TSEG1) / (1 + TSEG1 + TSEG2)</div>
<div class="line"> </div>
<div class="line">CAN clock is functional clock of CAN module (80MHz)</div>
<div class="line">BRP: Bit rate pre-scalar value</div>
<div class="line">TSEG1, TSEG2: Time Segments expressed in terms of number of Tq(Time Quantum)</div>
<div class="line"> </div>
<div class="line">Tq: the period of the CAN module functional clock.</div>
</div><!-- fragment --><ul>
<li>Sampling point is the point of time at which the bus level is read and interpreted as the value at that respective time. Typical value of sampling point is between 75-90%.</li>
<li>Bit timing can be configured by calling the <a class="el" href="group__DRV__MCAN__MODULE.html#ga5d02770f3a59e923d8ad6cb646b6de10" title="This API will configure a bit timings for MCAN module.">MCAN_setBitTime</a> function passing the <a class="el" href="structMCAN__BitTimingParams.html" title="Structure for bit timing calculation. Bit timing related to data phase will be valid only in case whe...">MCAN_BitTimingParams</a> structure.</li>
<li>The default initialization for the <a class="el" href="structMCAN__BitTimingParams.html" title="Structure for bit timing calculation. Bit timing related to data phase will be valid only in case whe...">MCAN_BitTimingParams</a> strcuture is done by calling <a class="el" href="group__DRV__MCAN__MODULE.html#ga934907e5c374b44cd783d55f3dfbef4c" title="This API will initialize MCAN GBit Timing params with default 1Mbps and 5Mbps as nominal and data bit...">MCAN_initSetBitTimeParams</a>.</li>
<li>Sysconfig provides an interface to program the default initialization values set in <a class="el" href="group__DRV__MCAN__MODULE.html#ga934907e5c374b44cd783d55f3dfbef4c" title="This API will initialize MCAN GBit Timing params with default 1Mbps and 5Mbps as nominal and data bit...">MCAN_initSetBitTimeParams</a> function. under Global Parameters for MCAN module. This is common for all instances of MCAN.</li>
<li>The default parameter corresponds to 1Mbps of NOM bit rate and 5Mbps of DATA bit rate.</li>
<li>If the application needs different bit timing for any instance of MCAN it should appropriately update the <a class="el" href="structMCAN__BitTimingParams.html" title="Structure for bit timing calculation. Bit timing related to data phase will be valid only in case whe...">MCAN_BitTimingParams</a> structure passed to <a class="el" href="group__DRV__MCAN__MODULE.html#ga5d02770f3a59e923d8ad6cb646b6de10" title="This API will configure a bit timings for MCAN module.">MCAN_setBitTime</a> API.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Values selected in Sysconfig / the values set in structure are directly programmed in MCAN register bit fields. The actual interpretation by the hardware of this value is such that one more than the value programmed.</dd></dl>
<div class="fragment"><div class="line">Default values used for NOM bit rate (1Mbps) are</div>
<div class="line">MCAN_BitTimingParams::nomRatePrescalar = 7 (BRP = 8)</div>
<div class="line">MCAN_BitTimingParams::nomTimeSeg1 = 5 (TSEG1 = 6)</div>
<div class="line">MCAN_BitTimingParams::nomTimeSeg2 = 2 (TSEG2 = 3)</div>
<div class="line"> </div>
<div class="line">bit rate = 80MHz / 8 / (1 + 6 + 3) = 1Mbps</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md412"></a>
CAN bus termination</h2>
<p>CAN bus termination is needed to minimize the reflection, to reduce the noise. The transmission lines must be terminated to make sure noise does not cause communication failure.</p>
<p>There are two types of CAN termination:</p>
<ul>
<li>Standard termination: The traditional 120 Ohm resistor(RL) is used on each end of the bus.</li>
<li>Split Termination Two 60 Ohm(RL/2) resistors along with capacitor(CL) is used to suppress the noise at both ends of the bus. Typical value of CL for 1.1 Mbps is 4.7 nF.</li>
</ul>
<p>Please note RL and CL values are dependent on a signaling rate.</p>
<h2><a class="anchor" id="autotoc_md413"></a>
Transceiver Delay Compensation Value(TDCV)</h2>
<p>CAN is a broadcast protocol, every node on the bus sees the message on the bus even if it is Tx node. Tx node uses this data on Rx line for integrity and error checks locally. Overview of a bit flow through different stages in communication is:</p>
<div class="fragment"><div class="line">CAN module core -&gt; CAN module Tx line -&gt; SoC Tx Pin/PAD -&gt; Transceiver Out -&gt; CAN Bus -&gt; Transceiver In -&gt; SoC Rx Pin/PAD -&gt; CAN module Rx line -&gt; CAN module core</div>
</div><!-- fragment --><p>In the above path flow, introduces latency between data going out from Tx line to data coming in on Rx line. Major part of this latency comes from Transceiver. Hence it is called Transceiver Delay Compensation Value. This needs to programmed as controller has to adjust it's Secondary Sampling Point(SSP) for sampling Rx line at the correct time.</p>
<ul>
<li>MCAN provides functionality to measure delay between transition on Tx line and same transition for Rx line. User need not to measure transceiver loop-back delay or refer transceiver documentation for the same. User just needs to program SSP position which could be same as Sampling Point(SP).</li>
</ul>
<h2><a class="anchor" id="autotoc_md414"></a>
Things to consider/check before sending a message over CAN bus</h2>
<p>Make sure following is done/checked before attempting communication on bus:</p>
<ul>
<li>ISO-11898 compatible transceivers have to be connected to a CAN bus.</li>
<li>CAN bus should have proper termination.</li>
<li>CAN_L lines from nodes shall be connected together and same goes for CAN_H and GND lines as well.</li>
<li>Make sure all connections are firm and all pins properly connected.</li>
<li>All node on the bus are configured for same bit rate.</li>
<li>In case of CAN FD, make sure Transceiver Delay Compensation value is correctly programmed.</li>
<li>CAN module is powered up and configured properly.</li>
<li>SoC pins/PADs for CAN are configured properly.</li>
</ul>
<h2><a class="anchor" id="autotoc_md415"></a>
Debug CAN communication failure</h2>
<p>When any CAN message transmission/reception fails, controller updates LEC (Last Error Code) and DLEC (Data Phase Last Error Code) fields in status register('MCAN_PSR')</p>
<p><b>LEC</b>: this field is updated when error happened in arbitration phase in case of CAN FD message or during full message for classic CAN message.</p>
<p><b>DLEC</b>: this field is updated when error happened in data phase in case of CAN FD message.</p>
<p>LEC/DLEC fields have following errors:</p>
<ul>
<li><b>Stuff Error</b><ul>
<li>Node type: Rx</li>
<li>Description: More than 5 equal bits in a sequence have occurred in a part of a received message where this is not allowed.</li>
<li>Check if all the nodes on the bus have same bit-rate.</li>
</ul>
</li>
<li><b>Form Error</b><ul>
<li>Node type: Rx</li>
<li>Description: A fixed format part of a received frame has the wrong format.</li>
<li>This could happen if receiver node have drift in CAN functional clock momentarily or bus have interference.</li>
</ul>
</li>
<li><b>Ack Error</b><ul>
<li>Node Type: Tx</li>
<li>Description: The message transmitted by the MCAN module was not acknowledged by another node.</li>
<li>CAN bus should have more than one nodes(apart for transmitting node) up and running(not in sleep or power down state).</li>
</ul>
</li>
<li><b>Bit1 Error and Bit0 Error</b><ul>
<li>Node Type: Tx</li>
<li>Description:<ul>
<li><b>Bit1 Error</b>: During the transmission of a message (with the exception of the arbitration field), the device wanted to send a recessive level (bit of logical value 1), but the monitored bus value was dominant.</li>
<li><b>Bit0 Error</b>: During the transmission of a message (acknowledge bit, active error flag, or overload flag), the device wanted to send a dominant level (data or identifier bit logical value 0), but the monitored bus value was recessive.</li>
</ul>
</li>
<li>Tx and Rx lines are sampled at Sampling Point (SP) and Secondary Sampling Point (SSP) respectively have different values. Position of SSP is configurable.</li>
<li>This can happen in following cases:<ul>
<li>Check if tx and rx pins are configured properly. These pins should be pulled high by default i.e. when bus is idle(no communication is going on).</li>
<li>Check if CAN transceiver is enabled.</li>
<li>For LEC:<ul>
<li>If configured SP is too large for given node.</li>
<li>Segment after SP(TSEG2) should be large enough to compensate for Transceiver Delay.</li>
</ul>
</li>
<li>For DLEC:<ul>
<li>Configured Transceiver Delay Compensation value is less/more than required.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><b>CRC Error</b><ul>
<li>Node type: Rx</li>
<li>Description: The CRC check sum of a received message was incorrect. The CRC of an incoming message does not match with the CRC calculated from the received data.</li>
<li>This could happen if receiver node have drift in CAN functional clock momentarily or bus have interference.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md416"></a>
BusOff Recovery Sequence</h2>
<p>Below is directly adopted from the Bosch app note.</p>
<p>The MCAN enters Busoff state according to CAN protocol conditions. The Busoff state is reported by setting PSR.BO. Additionally, the MCAN sets CCCR.INIT to stop all CAN operation. To restart CAN operation, the application software needs to clear CCCR.INIT. After CCCR.INIT is cleared, the MCAN’s CAN state machine waits for the completion of the Busoff Recovery Sequence according to CAN protocol (at least 128 occurrences of Bus Idle Condition, which is the detection of 11 consecutive recessive bits). In the MCAN User’s Manual the description of Bus_Off recovery states that “Once CCCR.INIT has been cleared by the CPU, the device will then wait for 129 occurrences of Bus Idle (129 * 11 consecutive recessive bits) before resuming normal operation. At the end of the Bus_Off recovery sequence, the Error Management Counters will be reset”.</p>
<h1><a class="anchor" id="MCAN_LLD_EXAMPLE_USAGE"></a>
Example Usage</h1>
<p>Include the below file to access the APIs </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="canfd__lld_8h.html">drivers/mcan/v0/lld/canfd_lld.h</a>&gt;</span></div>
</div><!-- fragment --><p> MCAN Interface initialization </p><div class="fragment"><div class="line">    int32_t status = <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>;</div>
<div class="line"> </div>
<div class="line">    gCanfdObj.regBaseAddress = CONFIG_MCAN0_BASE_ADDR;</div>
<div class="line">    gCanfdObj.state = <a class="code" href="group__CANFD__DRIVER__INTERNAL__DATA__STRUCTURE.html#gga2de53af81cc6b82ee2a4eebbd32c7c04a09de1f48dd0a5f8778448632c73191a4">CANFDLLD_DriverState_UNINIT</a>;</div>
<div class="line">    MCANAppInitParams (&amp;gCanfdObj.initParams);</div>
<div class="line"> </div>
<div class="line">    gCanfdObj.canfdDmaHandle = gEdmaHandle[0];</div>
<div class="line">    gCanfdEdmaChConfig.edmaRxChId[0] = <a class="code" href="cslr__soc__defines_8h.html#a683b7de99ad42354a576059dbc9e795d">EDMA_APPSS_TPCC_A_EVT_MCAN_FE_INT1</a>;</div>
<div class="line">    gCanfdEdmaChConfig.edmaTxChId[0] = <a class="code" href="cslr__soc__defines_8h.html#a78a1bd3cd37c6254d1ba02cf173113e6">EDMA_APPSS_TPCC_A_EVT_MCAN_DMA_REQ0</a>;</div>
<div class="line">    gCanfdObj.canfdDmaChCfg = (<a class="code" href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ga125eb0c5cc6a1394cbdb6d49e08034ce">CANFDLLD_DmaChConfig</a> *)(&amp;gCanfdEdmaChConfig);</div>
<div class="line"> </div>
<div class="line">    canHandle = (<a class="code" href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ga81799f04061f0f37291bfe9f4765ba5c">CANFDLLD_Handle</a>)(&amp;gCanfdObj);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize the CANFD driver */</span></div>
<div class="line">    status = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga38d4b2ea26617c295ce612394662a566">CANFD_lld_init</a>(canHandle);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line"> </div>
</div><!-- fragment --><p> MCAN Interrupt Registration </p><div class="fragment"><div class="line">    int32_t                 status = <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>;</div>
<div class="line">    <a class="code" href="structHwiP__Params.html">HwiP_Params</a>             hwiPrms;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Register interrupt */</span></div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__HWI.html#ga33f02161b1837b41f08ba064f1001045">HwiP_Params_init</a>(&amp;hwiPrms);</div>
<div class="line">    hwiPrms.<a class="code" href="structHwiP__Params.html#a943b3d55a5aaa669f8bcb04017fdf2a1">intNum</a>      = CONFIG_MCAN0_INTR;</div>
<div class="line">    hwiPrms.<a class="code" href="structHwiP__Params.html#ab8f50b1b2f678cc3ce395ee6bc89c55c">callback</a>    = (<span class="keywordtype">void</span>*)&amp;<a class="code" href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga14f96d03976d61d23b9adac17c7d1180">CANFD_lld_int0Isr</a>;</div>
<div class="line">    hwiPrms.<a class="code" href="structHwiP__Params.html#a26ec86a18720de1a3fe54828ceb959d2">args</a>        = &amp;gCanfdObj;</div>
<div class="line">    status              = <a class="code" href="group__KERNEL__DPL__HWI.html#gacda2e6e40428be67320f57d0676e4bd1">HwiP_construct</a>(&amp;gMcanHwiObject, &amp;hwiPrms);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
</div><!-- fragment --><p> MCAN configure bit timings </p><div class="fragment"><div class="line">    <a class="code" href="structCANFDLLD__MCANBitTimingParams.html">CANFDLLD_MCANBitTimingParams</a>   mcanBitTimingParams;</div>
<div class="line"> </div>
<div class="line">    mcanBitTimingParams.<a class="code" href="structCANFDLLD__MCANBitTimingParams.html#a64e054ad9282f49f06205ff2c1cb18b9">nomBrp</a>      = 0x4U;</div>
<div class="line">    mcanBitTimingParams.<a class="code" href="structCANFDLLD__MCANBitTimingParams.html#ab6343fdfd9e5b888988784bf6b1c8bd9">nomPropSeg</a>  = 0x8U;</div>
<div class="line">    mcanBitTimingParams.<a class="code" href="structCANFDLLD__MCANBitTimingParams.html#ae5d6115dc0677c406dd10170ed747d72">nomPseg1</a>    = 0x6U;</div>
<div class="line">    mcanBitTimingParams.<a class="code" href="structCANFDLLD__MCANBitTimingParams.html#a924bacbfeb962109dbb1453652117b13">nomPseg2</a>    = 0x5U;</div>
<div class="line">    mcanBitTimingParams.<a class="code" href="structCANFDLLD__MCANBitTimingParams.html#a866eb3cd603874fe08f82d28d7cbd8c9">nomSjw</a>      = 0x1U;</div>
<div class="line"> </div>
<div class="line">    mcanBitTimingParams.<a class="code" href="structCANFDLLD__MCANBitTimingParams.html#ad4d9879b2cfbac97aa72c56a4ab3b65b">dataBrp</a>     = 0x2U;</div>
<div class="line">    mcanBitTimingParams.<a class="code" href="structCANFDLLD__MCANBitTimingParams.html#ac5466d9696c9ef7a7a6d99b289a04ed8">dataPropSeg</a> = 0x2U;</div>
<div class="line">    mcanBitTimingParams.<a class="code" href="structCANFDLLD__MCANBitTimingParams.html#a9154970faf6aff565add6047179e5621">dataPseg1</a>   = 0x2U;</div>
<div class="line">    mcanBitTimingParams.<a class="code" href="structCANFDLLD__MCANBitTimingParams.html#a6d819f759315d28533160a37f7ebc4a9">dataPseg2</a>   = 0x3U;</div>
<div class="line">    mcanBitTimingParams.<a class="code" href="structCANFDLLD__MCANBitTimingParams.html#a14238334a914d8ade0d12b44b60be5f2">dataSjw</a>     = 0x1U;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the CAN driver */</span></div>
<div class="line">    retVal = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga539eb39a32db505db932b42b70e7b23f">CANFD_lld_configBitTime</a> (canHandle, &amp;mcanBitTimingParams);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line"> </div>
</div><!-- fragment --><p> MCAN create message objects </p><div class="fragment"><div class="line">    <a class="code" href="structCANFDLLD__MessageObject.html">CANFDLLD_MsgObjHandle</a>          txMsgObjHandle;</div>
<div class="line">    <a class="code" href="structCANFDLLD__MessageObject.html">CANFDLLD_MsgObjHandle</a>          rxMsgObjHandle;</div>
<div class="line">    <a class="code" href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ga2dd827cd0a0ff106c4df718a410d2f6e">CANFDLLD_MCANOperationMode</a>     mcanOperationMode;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Enable MCAN operational mode */</span></div>
<div class="line">    mcanOperationMode.mode = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#gga2dd827cd0a0ff106c4df718a410d2f6eab33f4dcd0dbffa937dbf6206110f7784">CANFDLLD_MCANOperationMode_SW_INIT</a>;</div>
<div class="line"> </div>
<div class="line">    optionTLV.type = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#gga421d4017ec089c38eae0aaa0e0662821a4f5f914fb14e9ad463b6cd4a2fc62fbf">CANFDLLD_Option_MCAN_MODE</a>;</div>
<div class="line">    optionTLV.length = <span class="keyword">sizeof</span>(<a class="code" href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ga2dd827cd0a0ff106c4df718a410d2f6e">CANFDLLD_MCANOperationMode</a>);</div>
<div class="line">    optionTLV.value = (<span class="keywordtype">void</span>*) &amp;mcanOperationMode;</div>
<div class="line"> </div>
<div class="line">    status =  <a class="code" href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga346e297e288312b69be64cd337ba13a8">CANFD_lld_setOptions</a>(canHandle, &amp;optionTLV);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Setup the receive message object */</span></div>
<div class="line">    rxMsgObject.direction = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#gga1ae8471ce4adb69085666f558815e403a0606d0cb6bf2ce1a437f650831243d30">CANFDLLD_Direction_RX</a>;</div>
<div class="line">    rxMsgObject.msgIdType = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ggaf33f707f68132df522799070ab2b4acea2743e1802073344f60f5ae912a16dcb1">CANFDLLD_MCANXidType_29_BIT</a>;</div>
<div class="line">    rxMsgObject.startMsgId = 0x29E;</div>
<div class="line">    rxMsgObject.endMsgId = 0x29E;</div>
<div class="line">    rxMsgObject.enableDmaMode = TRUE;</div>
<div class="line"> </div>
<div class="line">    status = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#gab2bd7f3f1af6b9a7c0badf458bacc7a3">CANFD_lld_createMsgObject</a> (canHandle, &amp;rxMsgObject);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line"> </div>
<div class="line">    rxMsgObjHandle = &amp;rxMsgObject;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Setup the transmit message object */</span></div>
<div class="line">    txMsgObject.<a class="code" href="structCANFDLLD__MessageObject.html#a7f84b2e325b85b6872207b09cabc5ed1">direction</a> = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#gga1ae8471ce4adb69085666f558815e403ae6de5ade0bd72fba48c1c6a5cb27cca5">CANFDLLD_Direction_TX</a>;</div>
<div class="line">    txMsgObject.msgIdType = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ggaf33f707f68132df522799070ab2b4acea2743e1802073344f60f5ae912a16dcb1">CANFDLLD_MCANXidType_29_BIT</a>;</div>
<div class="line">    txMsgObject.startMsgId = 0x29E;</div>
<div class="line">    txMsgObject.endMsgId = 0x29E;</div>
<div class="line">    txMsgObject.enableDmaMode = TRUE;</div>
<div class="line"> </div>
<div class="line">    status = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#gab2bd7f3f1af6b9a7c0badf458bacc7a3">CANFD_lld_createMsgObject</a> (canHandle, &amp;txMsgObject);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line"> </div>
<div class="line">    txMsgObjHandle = &amp;txMsgObject;</div>
<div class="line"> </div>
<div class="line">    status = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#gad88dcf483c0f99c396cdd71c24deb167">CANFD_lld_readDmaConfig</a>(rxMsgObjHandle, rxData, MCAN_APP_TEST_MESSAGE_COUNT);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line"> </div>
<div class="line">    status = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga81adf28a29fd62accc13f3eb925e5550">CANFD_lld_writeDma</a>(txMsgObjHandle, txMsgObject.startMsgId, <a class="code" href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ggac9412bafe260b7745e5546ea9971fe7da43bd3be50dcbade36fe1c51f926f66a8">CANFDLLD_MCANFrameType_FD</a>, MCAN_APP_TEST_DATA_SIZE, MCAN_APP_TEST_MESSAGE_COUNT, &amp;txData[0]);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line"> </div>
</div><!-- fragment --><p> MCAN Interface de-initialization </p><div class="fragment"><div class="line">    status = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga6f7716cc9636aa15b59e84c4774c98ea">CANFD_lld_deleteMsgObject</a>(txMsgObjHandle);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line"> </div>
<div class="line">    status = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga6f7716cc9636aa15b59e84c4774c98ea">CANFD_lld_deleteMsgObject</a>(rxMsgObjHandle);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line"> </div>
<div class="line">    status = <a class="code" href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga291164aba31e216ce8aabf6fc552ca31">CANFD_lld_deInit</a>(canHandle);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md417"></a>
API</h1>
<p><a class="el" href="group__DRV__CANFD__MODULE.html">CANFD Driver</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="astructCANFDLLD__MCANBitTimingParams_html"><div class="ttname"><a href="structCANFDLLD__MCANBitTimingParams.html">CANFDLLD_MCANBitTimingParams</a></div><div class="ttdoc">Data structure defines the parameters for bit timing calculation. Bit timing related to data phase wi...</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:530</div></div>
<div class="ttc" id="acanfd__lld_8h_html"><div class="ttname"><a href="canfd__lld_8h.html">canfd_lld.h</a></div><div class="ttdoc">This is the header file for the CANFD driver which exposes the data structures and exported API which...</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE_html_gga1ae8471ce4adb69085666f558815e403ae6de5ade0bd72fba48c1c6a5cb27cca5"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#gga1ae8471ce4adb69085666f558815e403ae6de5ade0bd72fba48c1c6a5cb27cca5">CANFDLLD_Direction_TX</a></div><div class="ttdeci">@ CANFDLLD_Direction_TX</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:261</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__FUNCTION_html_ga291164aba31e216ce8aabf6fc552ca31"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga291164aba31e216ce8aabf6fc552ca31">CANFD_lld_deInit</a></div><div class="ttdeci">int32_t CANFD_lld_deInit(CANFDLLD_Handle handle)</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__FUNCTION_html_gad88dcf483c0f99c396cdd71c24deb167"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#gad88dcf483c0f99c396cdd71c24deb167">CANFD_lld_readDmaConfig</a></div><div class="ttdeci">int32_t CANFD_lld_readDmaConfig(CANFDLLD_MsgObjHandle handle, void *data, uint32_t numDmaRxBuf)</div></div>
<div class="ttc" id="astructCANFDLLD__MCANBitTimingParams_html_a924bacbfeb962109dbb1453652117b13"><div class="ttname"><a href="structCANFDLLD__MCANBitTimingParams.html#a924bacbfeb962109dbb1453652117b13">CANFDLLD_MCANBitTimingParams::nomPseg2</a></div><div class="ttdeci">uint32_t nomPseg2</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:541</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__INTERNAL__DATA__STRUCTURE_html_gga2de53af81cc6b82ee2a4eebbd32c7c04a09de1f48dd0a5f8778448632c73191a4"><div class="ttname"><a href="group__CANFD__DRIVER__INTERNAL__DATA__STRUCTURE.html#gga2de53af81cc6b82ee2a4eebbd32c7c04a09de1f48dd0a5f8778448632c73191a4">CANFDLLD_DriverState_UNINIT</a></div><div class="ttdeci">@ CANFDLLD_DriverState_UNINIT</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:223</div></div>
<div class="ttc" id="astructHwiP__Params_html"><div class="ttname"><a href="structHwiP__Params.html">HwiP_Params</a></div><div class="ttdoc">Parameters passed during HwiP_construct.</div><div class="ttdef"><b>Definition:</b> HwiP.h:72</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE_html_ggaf33f707f68132df522799070ab2b4acea2743e1802073344f60f5ae912a16dcb1"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ggaf33f707f68132df522799070ab2b4acea2743e1802073344f60f5ae912a16dcb1">CANFDLLD_MCANXidType_29_BIT</a></div><div class="ttdeci">@ CANFDLLD_MCANXidType_29_BIT</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:273</div></div>
<div class="ttc" id="acslr__soc__defines_8h_html_a78a1bd3cd37c6254d1ba02cf173113e6"><div class="ttname"><a href="cslr__soc__defines_8h.html#a78a1bd3cd37c6254d1ba02cf173113e6">EDMA_APPSS_TPCC_A_EVT_MCAN_DMA_REQ0</a></div><div class="ttdeci">#define EDMA_APPSS_TPCC_A_EVT_MCAN_DMA_REQ0</div><div class="ttdef"><b>Definition:</b> cslr_soc_defines.h:124</div></div>
<div class="ttc" id="astructCANFDLLD__MCANBitTimingParams_html_a14238334a914d8ade0d12b44b60be5f2"><div class="ttname"><a href="structCANFDLLD__MCANBitTimingParams.html#a14238334a914d8ade0d12b44b60be5f2">CANFDLLD_MCANBitTimingParams::dataSjw</a></div><div class="ttdeci">uint32_t dataSjw</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:559</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE_html_gga2dd827cd0a0ff106c4df718a410d2f6eab33f4dcd0dbffa937dbf6206110f7784"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#gga2dd827cd0a0ff106c4df718a410d2f6eab33f4dcd0dbffa937dbf6206110f7784">CANFDLLD_MCANOperationMode_SW_INIT</a></div><div class="ttdeci">@ CANFDLLD_MCANOperationMode_SW_INIT</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:249</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__HWI_html_gacda2e6e40428be67320f57d0676e4bd1"><div class="ttname"><a href="group__KERNEL__DPL__HWI.html#gacda2e6e40428be67320f57d0676e4bd1">HwiP_construct</a></div><div class="ttdeci">int32_t HwiP_construct(HwiP_Object *obj, HwiP_Params *params)</div><div class="ttdoc">Create a Hwi object.</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__FUNCTION_html_ga14f96d03976d61d23b9adac17c7d1180"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga14f96d03976d61d23b9adac17c7d1180">CANFD_lld_int0Isr</a></div><div class="ttdeci">void CANFD_lld_int0Isr(CANFDLLD_Object *ptrCanFdObj)</div></div>
<div class="ttc" id="astructCANFDLLD__MCANBitTimingParams_html_a9154970faf6aff565add6047179e5621"><div class="ttname"><a href="structCANFDLLD__MCANBitTimingParams.html#a9154970faf6aff565add6047179e5621">CANFDLLD_MCANBitTimingParams::dataPseg1</a></div><div class="ttdeci">uint32_t dataPseg1</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:553</div></div>
<div class="ttc" id="astructCANFDLLD__MCANBitTimingParams_html_a866eb3cd603874fe08f82d28d7cbd8c9"><div class="ttname"><a href="structCANFDLLD__MCANBitTimingParams.html#a866eb3cd603874fe08f82d28d7cbd8c9">CANFDLLD_MCANBitTimingParams::nomSjw</a></div><div class="ttdeci">uint32_t nomSjw</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:544</div></div>
<div class="ttc" id="astructCANFDLLD__MessageObject_html_a7f84b2e325b85b6872207b09cabc5ed1"><div class="ttname"><a href="structCANFDLLD__MessageObject.html#a7f84b2e325b85b6872207b09cabc5ed1">CANFDLLD_MessageObject::direction</a></div><div class="ttdeci">CANFDLLD_Direction direction</div><div class="ttdoc">Message object direction.</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:1262</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__HWI_html_ga33f02161b1837b41f08ba064f1001045"><div class="ttname"><a href="group__KERNEL__DPL__HWI.html#ga33f02161b1837b41f08ba064f1001045">HwiP_Params_init</a></div><div class="ttdeci">void HwiP_Params_init(HwiP_Params *params)</div><div class="ttdoc">Set default values to HwiP_Params.</div></div>
<div class="ttc" id="astructCANFDLLD__MCANBitTimingParams_html_ab6343fdfd9e5b888988784bf6b1c8bd9"><div class="ttname"><a href="structCANFDLLD__MCANBitTimingParams.html#ab6343fdfd9e5b888988784bf6b1c8bd9">CANFDLLD_MCANBitTimingParams::nomPropSeg</a></div><div class="ttdeci">uint32_t nomPropSeg</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:535</div></div>
<div class="ttc" id="acslr__soc__defines_8h_html_a683b7de99ad42354a576059dbc9e795d"><div class="ttname"><a href="cslr__soc__defines_8h.html#a683b7de99ad42354a576059dbc9e795d">EDMA_APPSS_TPCC_A_EVT_MCAN_FE_INT1</a></div><div class="ttdeci">#define EDMA_APPSS_TPCC_A_EVT_MCAN_FE_INT1</div><div class="ttdef"><b>Definition:</b> cslr_soc_defines.h:126</div></div>
<div class="ttc" id="astructCANFDLLD__MCANBitTimingParams_html_a6d819f759315d28533160a37f7ebc4a9"><div class="ttname"><a href="structCANFDLLD__MCANBitTimingParams.html#a6d819f759315d28533160a37f7ebc4a9">CANFDLLD_MCANBitTimingParams::dataPseg2</a></div><div class="ttdeci">uint32_t dataPseg2</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:556</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE_html_ga81799f04061f0f37291bfe9f4765ba5c"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ga81799f04061f0f37291bfe9f4765ba5c">CANFDLLD_Handle</a></div><div class="ttdeci">CANFDLLD_Object * CANFDLLD_Handle</div><div class="ttdoc">CANFD module handle returned by the CANFD_lld_init() API call.</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:1319</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__FUNCTION_html_ga346e297e288312b69be64cd337ba13a8"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga346e297e288312b69be64cd337ba13a8">CANFD_lld_setOptions</a></div><div class="ttdeci">int32_t CANFD_lld_setOptions(CANFDLLD_Handle handle, const CANFDLLD_OptionTLV *ptrOptInfo)</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__FUNCTION_html_ga81adf28a29fd62accc13f3eb925e5550"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga81adf28a29fd62accc13f3eb925e5550">CANFD_lld_writeDma</a></div><div class="ttdeci">int32_t CANFD_lld_writeDma(CANFDLLD_MsgObjHandle handle, uint32_t id, CANFDLLD_MCANFrameType frameType, uint32_t dataLengthPerMsg, uint32_t numMsgs, void *data)</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga47e638d7c694e6d42e57b96b071b8a6f"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a></div><div class="ttdeci">#define SystemP_SUCCESS</div><div class="ttdoc">Return status when the API execution was successful.</div><div class="ttdef"><b>Definition:</b> SystemP.h:56</div></div>
<div class="ttc" id="astructCANFDLLD__MCANBitTimingParams_html_ac5466d9696c9ef7a7a6d99b289a04ed8"><div class="ttname"><a href="structCANFDLLD__MCANBitTimingParams.html#ac5466d9696c9ef7a7a6d99b289a04ed8">CANFDLLD_MCANBitTimingParams::dataPropSeg</a></div><div class="ttdeci">uint32_t dataPropSeg</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:550</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE_html_gga1ae8471ce4adb69085666f558815e403a0606d0cb6bf2ce1a437f650831243d30"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#gga1ae8471ce4adb69085666f558815e403a0606d0cb6bf2ce1a437f650831243d30">CANFDLLD_Direction_RX</a></div><div class="ttdeci">@ CANFDLLD_Direction_RX</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:258</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__FUNCTION_html_ga38d4b2ea26617c295ce612394662a566"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga38d4b2ea26617c295ce612394662a566">CANFD_lld_init</a></div><div class="ttdeci">int32_t CANFD_lld_init(CANFDLLD_Handle hCanfd)</div></div>
<div class="ttc" id="astructCANFDLLD__MessageObject_html"><div class="ttname"><a href="structCANFDLLD__MessageObject.html">CANFDLLD_MessageObject</a></div><div class="ttdoc">CAN message object block.</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:1241</div></div>
<div class="ttc" id="astructCANFDLLD__MCANBitTimingParams_html_a64e054ad9282f49f06205ff2c1cb18b9"><div class="ttname"><a href="structCANFDLLD__MCANBitTimingParams.html#a64e054ad9282f49f06205ff2c1cb18b9">CANFDLLD_MCANBitTimingParams::nomBrp</a></div><div class="ttdeci">uint32_t nomBrp</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:532</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__FUNCTION_html_ga539eb39a32db505db932b42b70e7b23f"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga539eb39a32db505db932b42b70e7b23f">CANFD_lld_configBitTime</a></div><div class="ttdeci">int32_t CANFD_lld_configBitTime(CANFDLLD_Handle handle, const CANFDLLD_MCANBitTimingParams *bitTimeParams)</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE_html_ga125eb0c5cc6a1394cbdb6d49e08034ce"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ga125eb0c5cc6a1394cbdb6d49e08034ce">CANFDLLD_DmaChConfig</a></div><div class="ttdeci">void * CANFDLLD_DmaChConfig</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:506</div></div>
<div class="ttc" id="astructHwiP__Params_html_ab8f50b1b2f678cc3ce395ee6bc89c55c"><div class="ttname"><a href="structHwiP__Params.html#ab8f50b1b2f678cc3ce395ee6bc89c55c">HwiP_Params::callback</a></div><div class="ttdeci">HwiP_FxnCallback callback</div><div class="ttdef"><b>Definition:</b> HwiP.h:75</div></div>
<div class="ttc" id="astructCANFDLLD__MCANBitTimingParams_html_ae5d6115dc0677c406dd10170ed747d72"><div class="ttname"><a href="structCANFDLLD__MCANBitTimingParams.html#ae5d6115dc0677c406dd10170ed747d72">CANFDLLD_MCANBitTimingParams::nomPseg1</a></div><div class="ttdeci">uint32_t nomPseg1</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:538</div></div>
<div class="ttc" id="astructHwiP__Params_html_a26ec86a18720de1a3fe54828ceb959d2"><div class="ttname"><a href="structHwiP__Params.html#a26ec86a18720de1a3fe54828ceb959d2">HwiP_Params::args</a></div><div class="ttdeci">void * args</div><div class="ttdef"><b>Definition:</b> HwiP.h:76</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__FUNCTION_html_gab2bd7f3f1af6b9a7c0badf458bacc7a3"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#gab2bd7f3f1af6b9a7c0badf458bacc7a3">CANFD_lld_createMsgObject</a></div><div class="ttdeci">int32_t CANFD_lld_createMsgObject(CANFDLLD_Handle handle, CANFDLLD_MessageObject *ptrCanMsgObj)</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__FUNCTION_html_ga6f7716cc9636aa15b59e84c4774c98ea"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__FUNCTION.html#ga6f7716cc9636aa15b59e84c4774c98ea">CANFD_lld_deleteMsgObject</a></div><div class="ttdeci">int32_t CANFD_lld_deleteMsgObject(CANFDLLD_MsgObjHandle handle)</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE_html_gga421d4017ec089c38eae0aaa0e0662821a4f5f914fb14e9ad463b6cd4a2fc62fbf"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#gga421d4017ec089c38eae0aaa0e0662821a4f5f914fb14e9ad463b6cd4a2fc62fbf">CANFDLLD_Option_MCAN_MODE</a></div><div class="ttdeci">@ CANFDLLD_Option_MCAN_MODE</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:482</div></div>
<div class="ttc" id="astructCANFDLLD__MCANBitTimingParams_html_ad4d9879b2cfbac97aa72c56a4ab3b65b"><div class="ttname"><a href="structCANFDLLD__MCANBitTimingParams.html#ad4d9879b2cfbac97aa72c56a4ab3b65b">CANFDLLD_MCANBitTimingParams::dataBrp</a></div><div class="ttdeci">uint32_t dataBrp</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:547</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_ga552e9055ca7eab5fe6c224c6cd5a9d4c"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a></div><div class="ttdeci">#define DebugP_assert(expression)</div><div class="ttdoc">Function to call for assert check.</div><div class="ttdef"><b>Definition:</b> DebugP.h:159</div></div>
<div class="ttc" id="astructHwiP__Params_html_a943b3d55a5aaa669f8bcb04017fdf2a1"><div class="ttname"><a href="structHwiP__Params.html#a943b3d55a5aaa669f8bcb04017fdf2a1">HwiP_Params::intNum</a></div><div class="ttdeci">uint32_t intNum</div><div class="ttdef"><b>Definition:</b> HwiP.h:74</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE_html_ggac9412bafe260b7745e5546ea9971fe7da43bd3be50dcbade36fe1c51f926f66a8"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ggac9412bafe260b7745e5546ea9971fe7da43bd3be50dcbade36fe1c51f926f66a8">CANFDLLD_MCANFrameType_FD</a></div><div class="ttdeci">@ CANFDLLD_MCANFrameType_FD</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:285</div></div>
<div class="ttc" id="agroup__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE_html_ga2dd827cd0a0ff106c4df718a410d2f6e"><div class="ttname"><a href="group__CANFD__DRIVER__EXTERNAL__DATA__STRUCTURE.html#ga2dd827cd0a0ff106c4df718a410d2f6e">CANFDLLD_MCANOperationMode</a></div><div class="ttdeci">CANFDLLD_MCANOperationMode</div><div class="ttdoc">Enumerates the values used to represent the MCAN mode of operation.</div><div class="ttdef"><b>Definition:</b> canfd_lld.h:244</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
