<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>xWRL6432 MMWAVE-L-SDK: 2D Capon Beamforming</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="xWRL6432 MMWAVE-L-SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">xWRL6432 MMWAVE-L-SDK
   &#160;<span id="projectnumber">05.05.04.02</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('CAPON_BEAMFORMING_2D.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">2D Capon Beamforming </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md496">About Capon Beamforming</a></li>
<li class="level1"><a href="#autotoc_md497">Structures and API Documentation</a></li>
<li class="level1"><a href="#autotoc_md498">Benchmarks</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_algorithms_2d_capon_beamforming"></a></p>
<h1><a class="anchor" id="autotoc_md496"></a>
About Capon Beamforming</h1>
<p>In FMCW radar signal processing a sequence of chirps, uniformly spaced in time, are transmitted. The reflected signal may be received across multiple RX antennas (say N). In many applications, it is desirable to know the Angle of Arrival (AoA) of the reflected signals, to know the angle at which an object is. Traditionally, this is calculated using a <a href="https://www.ti.com/lit/wp/spyy005a/spyy005a.pdf">Fourier Transform (FFT) based technique </a> for the signals received at the RX antennas. This technique utilises the relative phase differences across the RX antennas to estimate the AoA of the signal. The major issue with this FFT-based technique is that it has a poor angular resolution (theta_res = 2/N).</p>
<p>Capon Beamforming is an algorithm which helps improve the angular resolution of a sensor. <a href="https://web2.norsonic.com/wp-content/uploads/2016/10/TN-beamformers.pdf">Beamforming</a> is the process of focussing a receiving device in a particular direction to "listen" to signals from that direction. This "listening" is done through a steering vector, which enables us to focus the receiver in a desired direction. A simple beamformer applies a time delay (Delta) and an amplitude weight (w) to the received signal at each antenna to form the steering vector. These weights have to be tuned to "listen" properly to a particular direction. Capon Beamforming uses optimization techniques to find the most optimal weights for a beamformer, hence giving us a good angular resolution.</p>
<p>In many cases, we also need to know the AoA of the signals in the azimuth and elevation direction. Here, we firstly need a 2-dimentional antenna (or virtual antenna) array. In the traditional FFT case, we perform two FFTs to get the azimuth and elevation of the direction of arrival of the signal. It suffers from the same problem as that of 1D FFT case, where we get a poor angular resolution. Here, we use 2D Capon Beamforming to get a better estimate of the AoA of the signal in both azimuth and elevation angles. <br  />
 <br  />
<br  />
</p>
<p> <style>div.image img[src="2D_Capon_vs_2D_FFT_resolution.png"]{ width:90%}</style> </p><div class="image">
<img src="2D_Capon_vs_2D_FFT_resolution.png" alt=""/>
<div class="caption">
2D Capon Beamforming v/s 2D FFT Beamformer</div></div>
<p>We see in the above comparision that 2D Capon Beamforming gives a better angular resolution than 2D FFT-based AoA estimation.</p>
<h1><a class="anchor" id="autotoc_md497"></a>
Structures and API Documentation</h1>
<h3><em> Structures </em></h3>
<p>The structures to be used by the user are well-commented in the <b>caponBeamforming2D.h</b> file. </p><h3><em> APIs </em></h3>
<div class="fragment"><div class="line">CaponBeamforming2DHWA_Handle CaponBeamforming2DHWA_init</div>
<div class="line">(</div>
<div class="line">    CaponBeamforming2DHWA_InitParams *initCfg,</div>
<div class="line">    int32_t                    *errCode</div>
<div class="line">)</div>
</div><!-- fragment --><p><b>Description</b>: Capon Beamforming 2D init function. It allocates memory to store its internal data object and returns a handle if it executes successfully. <br  />
 <b>Parameters</b>: <br  />
initCfg – initCfg Pointer to initial configuration parameter. <br  />
errCode – errCode Pointer to errCode generates by the API.</p>
<p><br  />
<b>Return values</b>: <br  />
Success = valid handle <br  />
Error != 0: NULL </p><hr  />
<div class="fragment"><div class="line">int32_t CaponBeamforming2DHWA_config</div>
<div class="line">(</div>
<div class="line">    CaponBeamforming2DHWA_Handle    handle,</div>
<div class="line">    CaponBeamforming2DHWA_Config    *cfg</div>
<div class="line">)</div>
</div><!-- fragment --><p><b>Description</b>: Capon Beamforming 2D configuration. Configures the Capon Beamforming 2D DPU <br  />
 <b>Parameters</b>: <br  />
handle – DPU handle. <br  />
cfg – Pointer to configuration parameters.</p>
<p><br  />
<b>Return values</b>: <br  />
Success = 0 <br  />
Error != 0: DPU_CAPONBEAMFORMING2D_ERROR_CODE </p><hr  />
<div class="fragment"><div class="line">int32_t CaponBeamforming2DHWA_process</div>
<div class="line">(</div>
<div class="line">    CaponBeamforming2DHWA_Handle    handle,</div>
<div class="line">    CaponBeamforming2DHWA_Config    *cfg,</div>
<div class="line">    float                         *caponSpectrum  </div>
<div class="line">)</div>
</div><!-- fragment --><p><b>Description</b>: Capon Beamforming 2D process function. Performs the 2D Capon Beamforming algorithm <br  />
 <b>Parameters</b>: <br  />
handle – DPU handle. <br  />
cfg – Pointer to configuration parameters. <br  />
caponSpectrum – Pointer to the memory where the Capon Spectrum is to be stored.</p>
<p><br  />
<b>Return values</b>: <br  />
Success = 0 <br  />
Error != 0: DPU_CAPONBEAMFORMING2D_ERROR_CODE </p><hr  />
<div class="fragment"><div class="line">int32_t CaponBeamformingHWA_deinit</div>
<div class="line">(</div>
<div class="line">        CaponBeamforming2DHWA_Handle handle, </div>
<div class="line">        CaponBeamforming2DHWA_Config *cfg</div>
<div class="line">)</div>
</div><!-- fragment --><p><b>Description</b>: Capon Beamforming 2D DPU deinit <br  />
 <b>Parameters</b>: <br  />
handle – DPU handle. <br  />
cfg – Pointer to configuration parameters.</p>
<p><br  />
<b>Return values</b>: <br  />
Success = 0 <br  />
Error != 0: DPU_CAPONBEAMFORMING2D_ERROR_CODE </p><hr  />
<h1><a class="anchor" id="autotoc_md498"></a>
Benchmarks</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">N_ant  </th><th class="markdownTableHeadLeft">N_snaps  </th><th class="markdownTableHeadNone">Angles Sampled Azimuth  </th><th class="markdownTableHeadRight">Angles Sampled Elevation  </th><th class="markdownTableHeadNone">Time (us)   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">6  </td><td class="markdownTableBodyLeft">36  </td><td class="markdownTableBodyNone">32  </td><td class="markdownTableBodyRight">16  </td><td class="markdownTableBodyNone">842   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
