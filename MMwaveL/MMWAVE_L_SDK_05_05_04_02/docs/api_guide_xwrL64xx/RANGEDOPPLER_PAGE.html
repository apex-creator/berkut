<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>xWRL6432 MMWAVE-L-SDK: Range-Doppler based feature extraction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="xWRL6432 MMWAVE-L-SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">xWRL6432 MMWAVE-L-SDK
   &#160;<span id="projectnumber">05.05.04.02</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('RANGEDOPPLER_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Range-Doppler based feature extraction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md504">About Range-Doppler based feature extraction</a></li>
<li class="level1"><a href="#autotoc_md505">Structures and API Documentation</a></li>
<li class="level1"><a href="#autotoc_md506">Benchmarks</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_algorithms_rangeDopplerBased"></a></p>
<h1><a class="anchor" id="autotoc_md504"></a>
About Range-Doppler based feature extraction</h1>
<p>The feature extraction based on range-doppler heatmap computes features generated out of range doppler heatmap along with elevation and azimuth indices. The elevation and azimuth indices calculation is done after the AoA (Angle of Arrival) FFT. This is mentioned in section 9.5 of <b>Gesture_Recognition_Demo_documentation.pdf</b>. Along with these we calculate some hybrid metrics by accumulating across the frames. Therefore 16-features (along with hybrid metrics) that are computed include:<br  />
 <br  />
 [1] <b>Dopler Average</b>: Weighted average of the Doppler across the heatmap. <br  />
 [2] <b>Dopler Positive Average</b>: Weighted average of the Doppler – averaged only across positive Dopplers in the heatmap. <br  />
 [3] <b>Dopler Positive Average</b>: Weighted average of the Doppler – averaged only across negative Dopplers in the heatmap. <br  />
 [4] <b>Range Average</b>: Weighted average of the range across the heatmap.<br  />
 [5] <b>Number of detected points</b>: number of cells in the heatmap that have a magnitude above a certain threshold.<br  />
 [6] <b>Azimuth Weighted Mean</b>: Select the N cells of the heat-map with the highest magnitude and for each cell compute the azimuth bin (via angle-FFT). The average azimuth is the weighted average of all these azimuth bin indices.<br  />
 [7] <b>Elevation Weighted Mean</b>: Select the N of the heat-map with the highest magnitude and for each cell compute the elevation bin (via angle-FFT). The average elevation is the weighted average of all these elevation bin indices.<br  />
 [8] <b>Azimuth Weighted dispersion</b>: This captures the dispersion (or weighted standard deviation of the cells that were used to compute the Azimuth Weighted Mean.<br  />
 [9] <b>Elevation Weighted dispersion</b>: This captures the dispersion (or weighted standard deviation of the cells that were used to compute the Elevation Weighted Mean.<br  />
 [10] <b>Doppler Azimuth Correlation</b>: Doppler Azimuth correlation which show how Doppler and Azimuth values are related across the frames.<br  />
 [11] <b>Doppler Elevation Correlation</b>: Doppler Elevation correlation which show how Doppler and Elevation values are related across the frames. <br  />
 [12] <b>Doppler Positive Negative Correlation</b>: Doppler Positive Negative correlation which show how Doppler Positive and Negative values are related across the frames. <br  />
 [13] <b>Doppler Positive Azimuth Correlation</b>: Doppler Positive Azimuth correlation which show how Doppler Positive and Azimuth values are related across the frames. <br  />
 [14] <b>Doppler Positive Eelvation Correlation</b>: Doppler Positive Elevation correlation which show how Doppler Positive and Elevation values are related across the frames. <br  />
 [15] <b>Doppler Negative Azimuth Correlation</b>: Doppler Negative Azimuth correlation which show how Doppler Negative and Azimuth values are related across the frames. <br  />
 [16] <b>Doppler Negative Elevation Correlation</b>: Doppler Positive Elevation correlation which show how Doppler Positive and Elevation values are related across the frames. <br  />
<br  />
</p>
<p> <style>div.image img[src="Feature_extraction.jpg"]{ width:90%}</style> </p><div class="image">
<img src="Feature_extraction.jpg" alt=""/>
<div class="caption">
Feature extraction process and extracted fetaures</div></div>
<h1><a class="anchor" id="autotoc_md505"></a>
Structures and API Documentation</h1>
<h3><em> Structures </em></h3>
<p>The structures to be used by the user are well-commented in the <b>featExtract.h</b> file. </p><h3><em> APIs </em></h3>
<div class="fragment"><div class="line">void *featExtract_create</div>
<div class="line">(</div>
<div class="line">    FeatExtract_moduleConfig *config,</div>
<div class="line">    int32_t                  *errCode</div>
<div class="line">)</div>
</div><!-- fragment --><p><b>Description</b>: Feature extraction create function. It allocates memory to store its internal data object, assign the config to internal parameters and returns a handle if it executes successfully. <br  />
 <b>Parameters</b>: <br  />
initCfg – config Pointer to initial configuration parameter. <br  />
errCode – errCode Pointer to errCode generates by the API.</p>
<p><b>Return values</b>: <br  />
Success = valid handle <br  />
Error != 0: NULL </p><hr  />
<div class="fragment"><div class="line">void featExtract_compute</div>
<div class="line">(</div>
<div class="line">    void *handle,</div>
<div class="line">    uint32_t *detMatrix,</div>
<div class="line">    uint16_t frame_no,</div>
<div class="line">    FeatExtract_featOutput *featOut</div>
<div class="line">)</div>
</div><!-- fragment --><p><b>Description</b>: Feature extraction computation. It computes the features from range-doppler heatmap using computeFeatures_rangeDoppler function, computeFeatures_azimElev function and hybrid metrics using computeFeatures_hybrid function. <br  />
 <b>Parameters</b>: <br  />
handle – featExtract handle. <br  />
detMatrix – Pointerto range-doppler heatmap. <br  />
frame_no – frame number based on which hybrid metrics will be calculated. <br  />
featOut – Pointer to output extracted features.</p>
<p><b>Return values</b>: <br  />
None </p><hr  />
<div class="fragment"><div class="line">void featExtract_delete</div>
<div class="line">(</div>
<div class="line">    void *handle</div>
<div class="line">)</div>
</div><!-- fragment --><p><b>Description</b>: feature extraction library deinit/deletion <br  />
 <b>Parameters</b>: <br  />
handle – featExtract handle.</p>
<p><b>Return values</b>: <br  />
None </p><hr  />
<h1><a class="anchor" id="autotoc_md506"></a>
Benchmarks</h1>
<p>The entire feature extraction of 16-features on M4F takes <b>~1.2ms</b>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
